--===== LOAD ORION LIB =====--
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()

--===== SERVICES =====--
local Players = game:GetService("Players")
local lp = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

--===== KEY SETTINGS =====--
local VALID_KEY = "premiumhub"
local keyRedeemed = false

--===== GUI =====--
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KeyRedeemGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = lp:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 300, 0, 150)
Frame.Position = UDim2.new(0.5, -150, 0.5, -75)
Frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.Parent = Frame
UICorner.CornerRadius = UDim.new(0, 12)

local TextLabel = Instance.new("TextLabel")
TextLabel.Size = UDim2.new(1,0,0,50)
TextLabel.Position = UDim2.new(0,0,0,10)
TextLabel.BackgroundTransparency = 1
TextLabel.TextColor3 = Color3.fromRGB(255,255,255)
TextLabel.Font = Enum.Font.GothamBold
TextLabel.TextSize = 20
TextLabel.Text = "Enter your key:"
TextLabel.Parent = Frame

local TextBox = Instance.new("TextBox")
TextBox.Size = UDim2.new(0, 250, 0, 40)
TextBox.Position = UDim2.new(0.5, -125, 0, 60)
TextBox.BackgroundColor3 = Color3.fromRGB(50,50,50)
TextBox.TextColor3 = Color3.fromRGB(255,255,255)
TextBox.Font = Enum.Font.Gotham
TextBox.TextSize = 18
TextBox.PlaceholderText = "Type key here"
TextBox.ClearTextOnFocus = false
TextBox.Parent = Frame

local Button = Instance.new("TextButton")
Button.Size = UDim2.new(0, 200, 0, 30)
Button.Position = UDim2.new(0.5, -100, 0, 110)
Button.BackgroundColor3 = Color3.fromRGB(0,150,255)
Button.TextColor3 = Color3.fromRGB(255,255,255)
Button.Font = Enum.Font.GothamBold
Button.TextSize = 18
Button.Text = "Redeem Key"
Button.Parent = Frame

--===== REDEEM FUNCTION =====--
Button.MouseButton1Click:Connect(function()
    if TextBox.Text == VALID_KEY then
        keyRedeemed = true
        TextLabel.Text = "Key Accepted! ✅"
        TextBox.Visible = false
        Button.Visible = false

        -- Notifikasi + Discord link
        local MsgLabel = Instance.new("TextLabel")
        MsgLabel.Size = UDim2.new(1,0,0,50)
        MsgLabel.Position = UDim2.new(0,0,0,60)
        MsgLabel.BackgroundTransparency = 1
        MsgLabel.TextColor3 = Color3.fromRGB(255,255,0)
        MsgLabel.Font = Enum.Font.GothamBold
        MsgLabel.TextSize = 16
        MsgLabel.Text = "Join Discord: https://discord.gg/zXJCmGrCM"
        MsgLabel.Parent = Frame

        -- Tween keluar GUI setelah 3 detik
        TweenService:Create(Frame, TweenInfo.new(1), {Position=UDim2.new(0.5, -150, -0.5, -75)}):Play()

        task.delay(1, function()
            ScreenGui:Destroy()
            --===== LOAD ORION AFTER KEY =====--
            local Window = OrionLib:MakeWindow({
                Name = "Bill Hub",
                HidePremium = false,
                SaveConfig = true,
                ConfigFolder = "BillHubConfigs",
                ToggleKey = Enum.KeyCode.RightShift
            })

            local MainTab = Window:MakeTab({
                Name = "Main",
                Icon = "rbxassetid://4483362458",
                PremiumOnly = false
            })

            MainTab:AddButton({
                Name = "Test AutoFarm",
                Callback = function()
                    OrionLib:MakeNotification({
                        Name="AutoFarm",
                        Content="AutoFarm button clicked!",
                        Time=3
                    })
                end
            })

            MainTab:AddButton({
                Name = "Teleport to Premium Dealer",
                Callback = function()
                    OrionLib:MakeNotification({
                        Name="Dealer",
                        Content="Teleport button clicked!",
                        Time=3
                    })
                end
            })

            OrionLib:Init()
        end)
    else
        TextLabel.Text = "Wrong Key! ❌"
    end
end)
