-- PREMIUM BY MIYOSHI - MIRING 15° EDITION (100% WORK 2025)

local CorrectKey = "MIYOSHI2025"

local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")

-- ====================== REDEEM KEY UI ======================
local RedeemGui = Instance.new("ScreenGui", CoreGui)
RedeemGui.Name = "MiyoshiRedeem"
RedeemGui.ResetOnSpawn = false

local Back = Instance.new("Frame", RedeemGui)
Back.Size = UDim2.new(0, 420, 0, 240)
Back.Position = UDim2.new(0.5, -210, 0.5, -120)
Back.BackgroundColor3 = Color3.fromRGB(12,12,12)
Back.BorderSizePixel = 0
Instance.new("UICorner", Back).CornerRadius = UDim.new(0,15)

local Title = Instance.new("TextLabel", Back)
Title.Size = UDim2.new(1,0,0,60)
Title.BackgroundTransparency = 1
Title.Text = "PREMIUM BY MIYOSHI"
Title.TextColor3 = Color3.fromRGB(255,0,120)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 28

local TB = Instance.new("TextBox", Back)
TB.Size = UDim2.new(0.9,0,0,50)
TB.Position = UDim2.new(0.05,0,0,80)
TB.BackgroundColor3 = Color3.fromRGB(30,30,30)
TB.PlaceholderText = "Enter Key..."
TB.TextColor3 = Color3.new(1,1,1)
TB.Font = Enum.Font.Gotham
TB.TextSize = 20
Instance.new("UICorner", TB).CornerRadius = UDim.new(0,10)

local RedeemBtn = Instance.new("TextButton", Back)
RedeemBtn.Size = UDim2.new(0.9,0,0,55)
RedeemBtn.Position = UDim2.new(0.05,0,0,150)
RedeemBtn.BackgroundColor3 = Color3.fromRGB(255,0,120)
RedeemBtn.Text = "REDEEM KEY"
RedeemBtn.TextColor3 = Color3.new(1,1,1)
RedeemBtn.Font = Enum.Font.GothamBold
RedeemBtn.TextSize = 24
Instance.new("UICorner", RedeemBtn).CornerRadius = UDim.new(0,10)

RedeemBtn.MouseButton1Click:Connect(function()
    if TB.Text == CorrectKey then
        RedeemGui:Destroy()
        game.StarterGui:SetCore("SendNotification",{Title="MIYOSHI",Text="Premium Activated!",Duration=5})

        -- ==================== SCRIPT UTAMA + MENU MIRING ====================
        local ScreenGui = Instance.new("ScreenGui", CoreGui)
        ScreenGui.Name = "MiyoshiPremium"

        -- Frame utama MIRING 15 derajat
        local MainFrame = Instance.new("Frame", ScreenGui)
        MainFrame.Size = UDim2.new(0, 390, 0, 540)
        MainFrame.Position = UDim2.new(0, 40, 0.5, -270)
        MainFrame.BackgroundColor3 = Color3.fromRGB(15,15,15)
        MainFrame.BorderSizePixel = 0
        MainFrame.Rotation = 15  -- <<<<< INI YANG BIKIN MIRING 15°
        MainFrame.Active = true
        MainFrame.Draggable = true

        local Corner = Instance.new("UICorner", MainFrame)
        Corner.CornerRadius = UDim.new(0,14)

        local TitleBar = Instance.new("TextLabel", MainFrame)
        TitleBar.Size = UDim2.new(1,0,0,50)
        TitleBar.BackgroundColor3 = Color3.fromRGB(255,0,120)
        TitleBar.Text = "PREMIUM BY MIYOSHI"
        TitleBar.TextColor3 = Color3.new(1,1,1)
        TitleBar.Font = Enum.Font.GothamBold
        TitleBar.TextSize = 22

        -- Bulatan B (tetap di posisi normal biar gampang diklik)
        local HideBtn = Instance.new("TextButton", ScreenGui) -- di luar frame biar ga ikut miring
        HideBtn.Size = UDim2.new(0,46,0,46)
        HideBtn.Position = UDim2.new(1,-60,0,20)
        HideBtn.BackgroundColor3 = Color3.new(1,1,1)
        HideBtn.Text = "B"
        HideBtn.TextColor3 = Color3.new(0,0,0)
        HideBtn.Font = Enum.Font.GothamBold
        HideBtn.TextSize = 28
        HideBtn.TextScaled = true
        Instance.new("UICorner", HideBtn).CornerRadius = UDim.new(1,0)

        HideBtn.MouseButton1Click:Connect(function()
            MainFrame.Visible = not MainFrame.Visible
        end)

        -- Scrolling content di dalam frame miring
        local Scroll = Instance.new("ScrollingFrame", MainFrame)
        Scroll.Size = UDim2.new(1,-20,1,-65)
        Scroll.Position = UDim2.new(0,10,0,55)
        Scroll.BackgroundTransparency = 1
        Scroll.ScrollBarThickness = 8

        local Layout = Instance.new("UIListLayout", Scroll)
        Layout.Padding = UDim.new(0,10)

        local function AddBtn(text, callback)
            local btn = Instance.new("TextButton", Scroll)
            btn.Size = UDim2.new(1,-10,0,52)
            btn.BackgroundColor3 = Color3.fromRGB(32,32,32)
            btn.Text = text
            btn.TextColor3 = Color3.new(1,1,1)
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 19
            Instance.new("UICorner", btn).CornerRadius = UDim.new(0,10)
            btn.MouseButton1Click:Connect(function()
                callback()
                btn.BackgroundColor3 = Color3.fromRGB(255,0,120)
                wait(0.2)
                btn.BackgroundColor3 = Color3.fromRGB(32,32,32)
            end)
        end

        -- Fitur
        local AutoFarmOn = false
        local Coords = {Vector3.new(2879,4,-863), Vector3.new(-5,4,25), Vector3.new(3141,5,-111)}
        local idx = 1
        local deliveries = 0

        AddBtn("Toggle AutoFarm", function() 
            AutoFarmOn = not AutoFarmOn
            game.StarterGui:SetCore("SendNotification",{Title="AutoFarm",Text=AutoFarmOn and "ON" or "OFF",Duration=3})
        end)
        AddBtn("Toggle ESP", function() -- ESP sederhana
            for _, plr in Players:GetPlayers() do
                if plr ~= Players.LocalPlayer and plr.Character then
                    local hl = Instance.new("Highlight", plr.Character)
                    hl.FillColor = Color3.fromRGB(255,0,0)
                    hl.OutlineColor = Color3.new(1,1,1)
                end
            end
        end)
        AddBtn("WalkSpeed 150", function()
            if Players.LocalPlayer.Character then
                Players.LocalPlayer.Character.Humanoid.WalkSpeed = 150
            end
        end)
        AddBtn("Premium Hide Name", function()
            if Players.LocalPlayer.Character then
                for _, v in Players.LocalPlayer.Character:GetDescendants() do
                    if v:IsA("BillboardGui") then v:Destroy() end
                end
            end
        end)

        -- AutoFarm loop
        spawn(function()
            while wait(0.8) do
                if AutoFarmOn and Players.LocalPlayer.Character and Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    local hrp = Players.LocalPlayer.Character.HumanoidRootPart
                    local target = Coords[idx]
                    if deliveries >= 7 then
                        for _, v in workspace:GetDescendants() do
                            if v.Name:lower():find("delivery") or v.Name:lower():find("waypoint") then
                                if v:IsA("BasePart") then target = v.Position break end
                            end
                        end
                    end
                    hrp.CFrame = CFrame.new(target + Vector3.new(0,6,0))
                    wait(0.7)
                    for _, p in workspace:GetDescendants() do
                        if p:IsA("ProximityPrompt") and (hrp.Position - p.Parent.Position).Magnitude < 20 then
                            fireproximityprompt(p, 5)
                        end
                    end
                    wait(6)
                    deliveries += 1
                    idx = idx % 3 + 1
                    game.StarterGui:SetCore("SendNotification",{Title="Delivery #"..deliveries,Text="+15.000 Cash | +20 Coins",Duration=4})
                end
            end
        end)

        Scroll.CanvasSize = UDim2.new(0,0,0,Layout.AbsoluteContentSize.Y + 20)
        Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            Scroll.CanvasSize = UDim2.new(0,0,0,Layout.AbsoluteContentSize.Y + 20)
        end)

        game.StarterGui:SetCore("SendNotification",{Title="MIYOSHI PREMIUM",Text="Menu miring loaded! Klik bulatan B",Duration=8})
    else
        TB.PlaceholderText = "KEY SALAH BRO"
        TB.Text = ""
    end
end)
